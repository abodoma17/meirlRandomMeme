<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>API Testing</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body class="bg-neutral-900 text-white">
    <div class="flex items-center justify-center h-screen flex-col">
        <h1 class="text-center text-3xl font-mono">REDDIT ME_IRL RANDOM MEME</h1>
        <button class="p-3 text-xl bg-red-900 rounded-lg mx-auto text-center my-3" onclick="redditImg();">PRESS ME</button>        
        <img src="" alt="" id="img1" class="mx-auto md:w-1/3 w-5/6">
    </div>
    
    <script>
        function redditImg() {
            var Httpreq = new XMLHttpRequest();
            Httpreq.open("GET",'https://www.reddit.com/r/me_irl/new.json',false);
            Httpreq.send(null);
            var jsonC = Httpreq.responseText;
            jsonC = JSON.parse(jsonC);
            jsonC = jsonC.data.children;
            let randIndex = Math.floor(Math.random() * jsonC.length) + 1;
            console.log(jsonC[randIndex].data.url_overridden_by_dest);
            document.getElementById("img1").src = jsonC[randIndex].data.url_overridden_by_dest;
        }
    </script>
</body>
</html>